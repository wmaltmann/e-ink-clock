(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))o(_);new MutationObserver(_=>{for(const r of _)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(_){const r={};return _.integrity&&(r.integrity=_.integrity),_.referrerPolicy&&(r.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?r.credentials="include":_.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(_){if(_.ep)return;_.ep=!0;const r=n(_);fetch(_.href,r)}})();var G,m,we,P,se,Ee,Ne,Ce,re,Z,ee,L={},Se=[],Me=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function S(t,e){for(var n in e)t[n]=e[n];return t}function oe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ue(t,e,n){var o,_,r,s={};for(r in e)r=="key"?o=e[r]:r=="ref"?_=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?G.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)s[r]===void 0&&(s[r]=t.defaultProps[r]);return q(t,s,o,_,null)}function q(t,e,n,o,_){var r={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:_??++we,__i:-1,__u:0};return _==null&&m.vnode!=null&&m.vnode(r),r}function Q(t){return t.children}function R(t,e){this.props=t,this.context=e}function T(t,e){if(e==null)return t.__?T(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?T(t):null}function xe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return xe(t)}}function ae(t){(!t.__d&&(t.__d=!0)&&P.push(t)&&!z.__r++||se!=m.debounceRendering)&&((se=m.debounceRendering)||Ee)(z)}function z(){for(var t,e,n,o,_,r,s,a=1;P.length;)P.length>a&&P.sort(Ne),t=P.shift(),a=P.length,t.__d&&(n=void 0,o=void 0,_=(o=(e=t).__v).__e,r=[],s=[],e.__P&&((n=S({},o)).__v=o.__v+1,m.vnode&&m.vnode(n),ie(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[_]:null,r,_??T(o),!!(32&o.__u),s),n.__v=o.__v,n.__.__k[n.__i]=n,Ae(r,n,s),o.__e=o.__=null,n.__e!=_&&xe(n)));z.__r=0}function $e(t,e,n,o,_,r,s,a,d,c,f){var l,u,h,w,N,E,v,y=o&&o.__k||Se,x=e.length;for(d=We(n,e,y,d,x),l=0;l<x;l++)(h=n.__k[l])!=null&&(u=h.__i==-1?L:y[h.__i]||L,h.__i=l,E=ie(t,h,u,_,r,s,a,d,c,f),w=h.__e,h.ref&&u.ref!=h.ref&&(u.ref&&_e(u.ref,null,h),f.push(h.ref,h.__c||w,h)),N==null&&w!=null&&(N=w),(v=!!(4&h.__u))||u.__k===h.__k?d=Pe(h,d,t,v):typeof h.type=="function"&&E!==void 0?d=E:w&&(d=w.nextSibling),h.__u&=-7);return n.__e=N,d}function We(t,e,n,o,_){var r,s,a,d,c,f=n.length,l=f,u=0;for(t.__k=new Array(_),r=0;r<_;r++)(s=e[r])!=null&&typeof s!="boolean"&&typeof s!="function"?(d=r+u,(s=t.__k[r]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?q(null,s,null,null,null):J(s)?q(Q,{children:s},null,null,null):s.constructor==null&&s.__b>0?q(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,a=null,(c=s.__i=Be(s,n,d,l))!=-1&&(l--,(a=n[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(_>f?u--:_<f&&u++),typeof s.type!="function"&&(s.__u|=4)):c!=d&&(c==d-1?u--:c==d+1?u++:(c>d?u--:u++,s.__u|=4))):t.__k[r]=null;if(l)for(r=0;r<f;r++)(a=n[r])!=null&&(2&a.__u)==0&&(a.__e==o&&(o=T(a)),He(a,a));return o}function Pe(t,e,n,o){var _,r;if(typeof t.type=="function"){for(_=t.__k,r=0;_&&r<_.length;r++)_[r]&&(_[r].__=t,e=Pe(_[r],e,n,o));return e}t.__e!=e&&(o&&(e&&t.type&&!e.parentNode&&(e=T(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Be(t,e,n,o){var _,r,s,a=t.key,d=t.type,c=e[n],f=c!=null&&(2&c.__u)==0;if(c===null&&t.key==null||f&&a==c.key&&d==c.type)return n;if(o>(f?1:0)){for(_=n-1,r=n+1;_>=0||r<e.length;)if((c=e[s=_>=0?_--:r++])!=null&&(2&c.__u)==0&&a==c.key&&d==c.type)return s}return-1}function ue(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Me.test(e)?n:n+"px"}function W(t,e,n,o,_){var r,s;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||ue(t.style,e,"");if(n)for(e in n)o&&n[e]==o[e]||ue(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(Ce,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?o?n.u=o.u:(n.u=re,t.addEventListener(e,r?ee:Z,r)):t.removeEventListener(e,r?ee:Z,r);else{if(_=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function de(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=re++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function ie(t,e,n,o,_,r,s,a,d,c){var f,l,u,h,w,N,E,v,y,x,$,M,H,ce,U,j,X,C=e.type;if(e.constructor!=null)return null;128&n.__u&&(d=!!(32&n.__u),r=[a=e.__e=n.__e]),(f=m.__b)&&f(e);e:if(typeof C=="function")try{if(v=e.props,y="prototype"in C&&C.prototype.render,x=(f=C.contextType)&&o[f.__c],$=f?x?x.props.value:f.__:o,n.__c?E=(l=e.__c=n.__c).__=l.__E:(y?e.__c=l=new C(v,$):(e.__c=l=new R(v,$),l.constructor=C,l.render=qe),x&&x.sub(l),l.props=v,l.state||(l.state={}),l.context=$,l.__n=o,u=l.__d=!0,l.__h=[],l._sb=[]),y&&l.__s==null&&(l.__s=l.state),y&&C.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=S({},l.__s)),S(l.__s,C.getDerivedStateFromProps(v,l.__s))),h=l.props,w=l.state,l.__v=e,u)y&&C.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),y&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(y&&C.getDerivedStateFromProps==null&&v!==h&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(v,$),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(v,l.__s,$)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(l.props=v,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(A){A&&(A.__=e)}),M=0;M<l._sb.length;M++)l.__h.push(l._sb[M]);l._sb=[],l.__h.length&&s.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(v,l.__s,$),y&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(h,w,N)})}if(l.context=$,l.props=v,l.__P=t,l.__e=!1,H=m.__r,ce=0,y){for(l.state=l.__s,l.__d=!1,H&&H(e),f=l.render(l.props,l.state,l.context),U=0;U<l._sb.length;U++)l.__h.push(l._sb[U]);l._sb=[]}else do l.__d=!1,H&&H(e),f=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++ce<25);l.state=l.__s,l.getChildContext!=null&&(o=S(S({},o),l.getChildContext())),y&&!u&&l.getSnapshotBeforeUpdate!=null&&(N=l.getSnapshotBeforeUpdate(h,w)),j=f,f!=null&&f.type===Q&&f.key==null&&(j=Te(f.props.children)),a=$e(t,J(j)?j:[j],e,n,o,_,r,s,a,d,c),l.base=e.__e,e.__u&=-161,l.__h.length&&s.push(l),E&&(l.__E=l.__=null)}catch(A){if(e.__v=null,d||r!=null)if(A.then){for(e.__u|=d?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;r[r.indexOf(a)]=null,e.__e=a}else{for(X=r.length;X--;)oe(r[X]);te(e)}else e.__e=n.__e,e.__k=n.__k,A.then||te(e);m.__e(A,e,n)}else r==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=Oe(n.__e,e,n,o,_,r,s,d,c);return(f=m.diffed)&&f(e),128&e.__u?void 0:a}function te(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(te)}function Ae(t,e,n){for(var o=0;o<n.length;o++)_e(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(_){try{t=_.__h,_.__h=[],t.some(function(r){r.call(_)})}catch(r){m.__e(r,_.__v)}})}function Te(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:J(t)?t.map(Te):S({},t)}function Oe(t,e,n,o,_,r,s,a,d){var c,f,l,u,h,w,N,E=n.props,v=e.props,y=e.type;if(y=="svg"?_="http://www.w3.org/2000/svg":y=="math"?_="http://www.w3.org/1998/Math/MathML":_||(_="http://www.w3.org/1999/xhtml"),r!=null){for(c=0;c<r.length;c++)if((h=r[c])&&"setAttribute"in h==!!y&&(y?h.localName==y:h.nodeType==3)){t=h,r[c]=null;break}}if(t==null){if(y==null)return document.createTextNode(v);t=document.createElementNS(_,y,v.is&&v),a&&(m.__m&&m.__m(e,r),a=!1),r=null}if(y==null)E===v||a&&t.data==v||(t.data=v);else{if(r=r&&G.call(t.childNodes),E=n.props||L,!a&&r!=null)for(E={},c=0;c<t.attributes.length;c++)E[(h=t.attributes[c]).name]=h.value;for(c in E)if(h=E[c],c!="children"){if(c=="dangerouslySetInnerHTML")l=h;else if(!(c in v)){if(c=="value"&&"defaultValue"in v||c=="checked"&&"defaultChecked"in v)continue;W(t,c,null,h,_)}}for(c in v)h=v[c],c=="children"?u=h:c=="dangerouslySetInnerHTML"?f=h:c=="value"?w=h:c=="checked"?N=h:a&&typeof h!="function"||E[c]===h||W(t,c,h,E[c],_);if(f)a||l&&(f.__html==l.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(l&&(t.innerHTML=""),$e(e.type=="template"?t.content:t,J(u)?u:[u],e,n,o,y=="foreignObject"?"http://www.w3.org/1999/xhtml":_,r,s,r?r[0]:n.__k&&T(n,0),a,d),r!=null)for(c=r.length;c--;)oe(r[c]);a||(c="value",y=="progress"&&w==null?t.removeAttribute("value"):w!=null&&(w!==t[c]||y=="progress"&&!w||y=="option"&&w!=E[c])&&W(t,c,w,E[c],_),c="checked",N!=null&&N!=t[c]&&W(t,c,N,E[c],_))}return t}function _e(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(_){m.__e(_,n)}}function He(t,e,n){var o,_;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||_e(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){m.__e(r,e)}o.base=o.__P=null}if(o=t.__k)for(_=0;_<o.length;_++)o[_]&&He(o[_],e,n||typeof t.type!="function");n||oe(t.__e),t.__c=t.__=t.__e=void 0}function qe(t,e,n){return this.constructor(t,n)}function Re(t,e,n){var o,_,r,s;e==document&&(e=document.documentElement),m.__&&m.__(t,e),_=(o=!1)?null:e.__k,r=[],s=[],ie(e,t=e.__k=Ue(Q,null,[t]),_||L,L,e.namespaceURI,_?null:e.firstChild?G.call(e.childNodes):null,r,_?_.__e:e.firstChild,o,s),Ae(r,t,s)}G=Se.slice,m={__e:function(t,e,n,o){for(var _,r,s;e=e.__;)if((_=e.__c)&&!_.__)try{if((r=_.constructor)&&r.getDerivedStateFromError!=null&&(_.setState(r.getDerivedStateFromError(t)),s=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(t,o||{}),s=_.__d),s)return _.__E=_}catch(a){t=a}throw t}},we=0,R.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=S({},this.state),typeof t=="function"&&(t=t(S({},n),this.props)),t&&S(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ae(this))},R.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ae(this))},R.prototype.render=Q,P=[],Ee=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ne=function(t,e){return t.__v.__b-e.__v.__b},z.__r=0,Ce=/(PointerCapture)$|Capture$/i,re=0,Z=de(!1),ee=de(!0);var Ke=0;function i(t,e,n,o,_,r){e||(e={});var s,a,d=e;if("ref"in d)for(a in d={},e)a=="ref"?s=e[a]:d[a]=e[a];var c={type:t,props:d,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ke,__i:-1,__u:0,__source:_,__self:r};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)d[a]===void 0&&(d[a]=s[a]);return m.vnode&&m.vnode(c),c}var D,g,Y,he,V=0,je=[],k=m,fe=k.__b,pe=k.__r,me=k.diffed,ve=k.__c,ye=k.unmount,ge=k.__;function le(t,e){k.__h&&k.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function b(t){return V=1,ze(De,t)}function ze(t,e,n){var o=le(D++,2);if(o.t=t,!o.__c&&(o.__=[De(void 0,e),function(a){var d=o.__N?o.__N[0]:o.__[0],c=o.t(d,a);d!==c&&(o.__N=[c,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.__f)){var _=function(a,d,c){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(u){return!!u.__c});if(f.every(function(u){return!u.__N}))return!r||r.call(this,a,d,c);var l=o.__c.props!==a;return f.forEach(function(u){if(u.__N){var h=u.__[0];u.__=u.__N,u.__N=void 0,h!==u.__[0]&&(l=!0)}}),r&&r.call(this,a,d,c)||l};g.__f=!0;var r=g.shouldComponentUpdate,s=g.componentWillUpdate;g.componentWillUpdate=function(a,d,c){if(this.__e){var f=r;r=void 0,_(a,d,c),r=f}s&&s.call(this,a,d,c)},g.shouldComponentUpdate=_}return o.__N||o.__}function F(t,e){var n=le(D++,3);!k.__s&&Le(n.__H,e)&&(n.__=t,n.u=e,g.__H.__h.push(n))}function Ve(t,e){var n=le(D++,7);return Le(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Ge(t,e){return V=8,Ve(function(){return t},e)}function Je(){for(var t;t=je.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(K),t.__H.__h.forEach(ne),t.__H.__h=[]}catch(e){t.__H.__h=[],k.__e(e,t.__v)}}k.__b=function(t){g=null,fe&&fe(t)},k.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ge&&ge(t,e)},k.__r=function(t){pe&&pe(t),D=0;var e=(g=t.__c).__H;e&&(Y===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(K),e.__h.forEach(ne),e.__h=[],D=0)),Y=g},k.diffed=function(t){me&&me(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(je.push(e)!==1&&he===k.requestAnimationFrame||((he=k.requestAnimationFrame)||Qe)(Je)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Y=g=null},k.__c=function(t,e){e.some(function(n){try{n.__h.forEach(K),n.__h=n.__h.filter(function(o){return!o.__||ne(o)})}catch(o){e.some(function(_){_.__h&&(_.__h=[])}),e=[],k.__e(o,n.__v)}}),ve&&ve(t,e)},k.unmount=function(t){ye&&ye(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{K(o)}catch(_){e=_}}),n.__H=void 0,e&&k.__e(e,n.__v))};var be=typeof requestAnimationFrame=="function";function Qe(t){var e,n=function(){clearTimeout(o),be&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,35);be&&(e=requestAnimationFrame(n))}function K(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ne(t){var e=g;t.__c=t.__(),g=e}function Le(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function De(t,e){return typeof e=="function"?e(t):e}const I=({children:t,className:e="",style:n={},title:o=""})=>{const[_,r]=b(window.location.pathname||"/");F(()=>{const c=()=>r(window.location.pathname||"/");return window.addEventListener("popstate",c),()=>window.removeEventListener("popstate",c)},[]);const s=[{href:"/home",label:"Home"},{href:"/alarms",label:"Alarm"},{href:"/nap",label:"Nap"},{href:"/settings",label:"Settings"}];function a(c){return c==="/home"&&(_==="/"||_==="/home")||_===c?!0:_.startsWith(c+"/")}function d(c){const l=c.currentTarget.getAttribute("href");!l||!l.startsWith("/")||(c.preventDefault(),l!==window.location.pathname&&(history.pushState(null,"",l),window.dispatchEvent(new PopStateEvent("popstate")),r(l)))}return i("div",{className:`page ${e}`,style:n,children:[i("header",{className:"page-header",children:[o?i("h1",{className:"page-title",children:o}):null,i("nav",{className:"nav-bar","aria-label":"Primary",children:s.map(c=>i("a",{className:`nav-link ${a(c.href)?"active":""}`,href:c.href,onClick:d,children:c.label},c.href))})]}),i("main",{className:"page-content",children:t})]})},p=({children:t,justify:e="center",className:n="",onClick:o})=>{const r={display:"flex",justifyContent:e==="left"?"flex-start":e==="right"?"flex-end":"center"};return i("div",{className:`box ${n}`,style:r,onClick:o,children:t})},Xe=({navigate:t})=>i(I,{title:"E-Ink Clock",children:i(p,{children:i("p",{children:"Configure your e-ink Clock"})})}),Fe=({text:t="",onClick:e=()=>{},className:n="",disabled:o=!1,type:_="button"})=>i("button",{type:_,className:`button ${n}`,onClick:e,disabled:o,children:t}),Ye=({headers:t=[],children:e})=>i("table",{className:"list-table",role:"table",children:[t&&t.length>0?i("thead",{children:i("tr",{children:t.map((n,o)=>i("th",{className:"list-header-cell",children:n},o))})}):null,i("tbody",{children:e})]}),Ie=()=>{const[t,e]=b(1);return F(()=>{const n=setInterval(()=>e(o=>o%4+1),800);return()=>clearInterval(n)},[]),i("div",{className:"loading",children:`Loading ${".".repeat(t)}`})},Ze=({alarm:t,navigate:e})=>{const n=()=>{e(`/alarms/${t.id}`)};return i("tr",{className:"list-row",children:[i("td",{className:"list-cell",children:t.name}),i("td",{className:"list-cell",children:t.time}),i("td",{className:"list-cell",children:[t.days[0]&&"M  ",t.days[1]&&"Tu  ",t.days[2]&&"W  ",t.days[3]&&"Th  ",t.days[4]&&"F  ",t.days[5]&&"Sa  ",t.days[6]&&"Su"]}),i("td",{className:"list-cell",children:t.enabled?"✔":"✖"}),i("td",{className:"list-cell",children:i(Fe,{text:"Edit",onClick:()=>n()})})]})},et=({navigate:t})=>{const[e,n]=b(!0),[o,_]=b([]),[r,s]=b("");F(()=>{n(!0),(async()=>{try{const f=await(await fetch("/api/alarms")).json();console.log("Alarms list:",f),_(f),n(!1)}catch(c){s("Failed to retrieve alarms"),console.error(c instanceof Error?c.message:String(c))}})()},[]);const a=["Alarm","Time","Days","Enabled","Actions"];return i(I,{title:"E-Ink Clock",children:r?i(p,{children:i("p",{className:"error",children:r})}):e?i(p,{children:i(Ie,{})}):i("div",{children:[i(p,{children:o.length>0?i(Ye,{headers:a,children:o.map(d=>i(Ze,{alarm:d,navigate:t}))}):i("p",{children:"No alarms configured"})}),i(p,{justify:"right",children:i(Fe,{text:"Add Alarm"})})]})})},tt=({navigate:t})=>i(I,{title:"E-Ink Clock",children:[i(p,{justify:"left",children:i("span",{className:"page-subtitle",children:"Nap Details:"})}),i(p,{children:"coming soon"})]}),nt=({navigate:t})=>i(I,{title:"E-Ink Clock",children:i("p",{children:"Settings"})}),ke=({value:t,onSave:e,param:n})=>{const[o,_]=b(!1),[r,s]=b(t),[a,d]=b(""),c=()=>{s(t),_(!0),d("")},f=()=>{_(!1),d("")},l=async()=>{try{const u=await e(n,r.trim());u===""?(_(!1),d("")):d(u)}catch(u){d("Error 2"),console.error(u instanceof Error?u.message:String(u))}};return o?i(p,{className:"editable-input",children:[i("div",{children:i("div",{children:[i("input",{type:"text",value:r,onInput:u=>s(u.target.value),onKeyDown:u=>{u.key==="Enter"&&l(),u.key==="Escape"&&f()}}),i("button",{type:"button",onClick:l,children:"✔"}),i("button",{type:"button",onClick:f,children:"✖"})]})}),i(p,{children:a&&i("span",{className:"error-msg",children:a})})]}):i(p,{justify:"left",className:"editable-input",onClick:c,children:t})},B=({value:t,onSave:e,param:n})=>{const[o,_]=b(!1),[r,s]=b(t),[a,d]=b(""),c=()=>{s(t),_(!0),d("")},f=()=>{_(!1),d("")},l=async()=>{const u=await e(n,r);u===""?(_(!1),d("")):d(u)};return o?i(p,{className:"editable-input",children:[i("div",{children:i("div",{children:[i("input",{type:"number",value:r,onInput:u=>s(Number(u.target.value)),onKeyDown:u=>{u.key==="Enter"&&l(),u.key==="Escape"&&f()}}),i("button",{type:"button",onClick:l,children:"✔"}),i("button",{type:"button",onClick:f,children:"✖"})]})}),i(p,{children:a&&i("span",{className:"error-msg",children:a})})]}):i(p,{justify:"left",className:"editable-input",onClick:c,children:t})},rt=({value:t,onSave:e,param:n})=>{const[o,_]=b(!1),[r,s]=b(t),[a,d]=b(""),c=()=>{s(t),_(!0),d("")},f=()=>{_(!1),d("")},l=async()=>{const u=await e(n,r);u===""?(_(!1),d("")):d(u)};return o?i(p,{className:"editable-input",children:[i("div",{children:i("div",{children:[i("span",{children:"M:"}),i("input",{type:"checkbox",checked:r[0],onChange:u=>{const h=r;h[0]=u.target.checked,s(h)}}),i("span",{children:"Tu:"}),i("input",{type:"checkbox",checked:r[1],onChange:u=>{const h=r;h[1]=u.target.checked,s(h)}}),i("span",{children:"W:"}),i("input",{type:"checkbox",checked:r[2],onChange:u=>{const h=r;h[2]=u.target.checked,s(h)}}),i("span",{children:"Th:"}),i("input",{type:"checkbox",checked:r[3],onChange:u=>{const h=r;h[3]=u.target.checked,s(h)}}),i("span",{children:"F:"}),i("input",{type:"checkbox",checked:r[4],onChange:u=>{const h=r;h[4]=u.target.checked,s(h)}}),i("span",{children:"Sa:"}),i("input",{type:"checkbox",checked:r[5],onChange:u=>{const h=r;h[5]=u.target.checked,s(h)}}),i("span",{children:"Su:"}),i("input",{type:"checkbox",checked:r[6],onChange:u=>{const h=r;h[6]=u.target.checked,s(h)}}),i("button",{type:"button",onClick:l,children:"✔"}),i("button",{type:"button",onClick:f,children:"✖"})]})}),i(p,{children:a&&i("span",{className:"error-msg",children:a})})]}):i(p,{justify:"left",className:"editable-input",onClick:c,children:[r[0]&&"M  ",r[1]&&"Tu  ",r[2]&&"W  ",r[3]&&"Th  ",r[4]&&"F  ",r[5]&&"Sa  ",r[6]&&"Su"]})},O=({value:t,onSave:e,param:n})=>{const[o,_]=b(!1),[r,s]=b(t),[a,d]=b(""),c=()=>{s(t),_(!0),d("")},f=()=>{_(!1),d("")},l=async()=>{const u=await e(n,r);u===""?(_(!1),d("")):d(u)};return o?i(p,{className:"editable-input",children:[i("div",{children:i("div",{children:[i("input",{type:"checkbox",checked:r,onInput:u=>s(u.target.checked),onKeyDown:u=>{u.key==="Enter"&&l(),u.key==="Escape"&&f()}}),i("button",{type:"button",onClick:l,children:"✔"}),i("button",{type:"button",onClick:f,children:"✖"})]})}),i(p,{children:a&&i("span",{className:"error-msg",children:a})})]}):i(p,{justify:"left",className:"editable-input",onClick:c,children:t?"✔":"✖"})},ot=({navigate:t})=>{const[e,n]=b(),[o,_]=b(!0),[r,s]=b("");F(()=>{_(!0),(async()=>{try{const f=window.location.pathname.split("/")[2],u=await(await fetch(`/api/alarms/${f}`)).json();console.log("Alarm details:",u),n(u),_(!1)}catch(c){s("Failed to retrieve alarm details"),console.error(c instanceof Error?c.message:String(c))}})()},[]);const a=async(d,c)=>{try{const f={param:d,value:c},u=await(await fetch(`/api/alarms/${e?.id}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();return console.log("response:",u),u.success?"":"Error B"}catch(f){return console.error(f instanceof Error?f.message:String(f)),"Error A"}};return i(I,{title:"E-Ink Clock",children:r?i(p,{children:i("p",{className:"error",children:r})}):o?i(p,{children:i(Ie,{})}):i("div",{children:[i(p,{justify:"left",children:i("span",{className:"page-subtitle",children:"Alarm Details:"})}),i(p,{justify:"left",children:[i("span",{children:"Name: "}),e&&i(ke,{value:e.name,param:"name",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Hour: "}),e&&i(B,{value:e.hour,param:"hour",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Minute: "}),e&&i(B,{value:e.minute,param:"minute",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"AM/PM: "}),e&&i(ke,{value:e.am_pm,param:"am_pm",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Days: "}),e&&i(rt,{value:e.days,param:"days",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Enabled: "}),e&&i(O,{value:e.enabled,param:"enabled",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Tone: "}),e&&i(O,{value:e.tone,param:"tone",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Tone Frequency: "}),e&&i(B,{value:e.frequency,param:"frequency",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Audio: "}),e&&i(O,{value:e.audio,param:"audio",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Ramp: "}),e&&i(O,{value:e.ramp,param:"ramp",onSave:a})]}),i(p,{justify:"left",children:[i("span",{children:"Volume: "}),e&&i(B,{value:e.volume,param:"volume",onSave:a})]})]})})};function it(){const[t,e]=b(window.location.pathname||"/"),n=Ge(o=>{o!==window.location.pathname&&(history.pushState(null,"",o),e(o))},[]);return F(()=>{const o=()=>e(window.location.pathname);return window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[]),{path:t,navigate:n}}const _t=()=>{const{path:t,navigate:e}=it();return t==="/alarms"?i(et,{navigate:e}):t.startsWith("/alarms/")?i(ot,{navigate:e}):t==="/nap"?i(tt,{navigate:e}):t==="/settings"?i(nt,{navigate:e}):i(Xe,{navigate:e})},lt=document.getElementById("root");Re(i(_t,{}),lt);
